/*****************************

	Uploader

*****************************//* Code Only Blog Post
 *
 * To add a custom field media uploader in WordPress
 * using the built-in thick box you need to override
 * the window.send_to_editor method. This is a JavaScript
 * code block that will help you do just that.
 *
 * The best way to get the JavaScript onto the page you
 * are working with is to use the wp_enqueue_script and
 * wp_register_script functions. Then need it to run against
 * the page when it loads.
 *
 * You can do this using the add_action method or something else.
 *
 * http://codex.wordpress.org/Function_Reference/wp_enqueue_script
 * http://codex.wordpress.org/Function_Reference/wp_register_script
 *
 * If you are working with a page that doesn't include the WordPress
 * editor you will be missing the files: thickbox and media-upload.
 * You must include these files as well for the uploader to work.
 * Including your script last.
 *
 * Here is an example of the php function you might create:
 *
 * function scripts() {
 * wp_enqueue_script('media-upload');
 * wp_enqueue_script('thickbox');
 * wp_register_script('upload', '/wp-content/plugins/js/upload.js', array('jquery','media-upload','thickbox'));
 *  wp_enqueue_script('upload');
 * }
 *
 * Note: you should never assume the plugin directory as show above.
 * It is best to use a function to get this path.
 *
 * The below works with WordPress 3.2 and has been tested
 */jQuery(document).ready(function(){function e(e,n){jQuery(e)&&jQuery(n)&&jQuery(e).click(function(){tb_show("","media-upload.php?type=image&amp;TB_iframe=true");t(n);return!1})}function t(e){window.original_send_to_editor=window.send_to_editor;window.send_to_editor=function(t){imgurl=jQuery(t).attr("src");imgurl||(imgurl=jQuery("img",t).attr("src"));imgurl||(imgurl=jQuery(t).attr("href"));jQuery(e).val(imgurl);tb_remove();window.send_to_editor=window.original_send_to_editor}}e(".upload-link-projectHomePageFeaturedImage","#projectHomePageFeaturedImage")});jQuery(function(){var e={},t={};t.changeChosen=function(e){var t,n,r;t=$("#"+e.currentTarget.id).val();n=e.currentTarget.id.replace("chz_","");r=$("#"+n);r.val(t);return!1};t.setupChosen=function(){$(".chzn-select").chosen({allow_single_deselect:!0});$(".chzn-select").chosen().change(function(e){t.changeChosen(e)});return!1};$(window).load(function(){t.setupChosen()});$(document).ajaxSuccess(function(e,n,r){t.setupChosen()})}($));